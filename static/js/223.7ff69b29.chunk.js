"use strict";(self.webpackChunkcar_rental_service=self.webpackChunkcar_rental_service||[]).push([[223],{1223:function(n,e,t){t.r(e),t.d(e,{default:function(){return L}});var r=t(4165),i=t(3433),a=t(5861),o=t(9439),l=t(2227),s=t(2791),c=t(1243);c.Z.defaults.baseURL="https://645a8c7c65bd868e931e4c89.mockapi.io";var u,p,d,x,f,h,g,m,b,Z=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.Z.get("/cars",{signal:e.signal});case 2:return t=n.sent,n.abrupt("return",t.data);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),v=Z,k=t(458),w=t(2906),F=t(1751),y=t(1413),j=t(6601),S=t(168),C=t(6487),P=C.ZP.div(u||(u=(0,S.Z)(["\n  display: flex;\n  @media screen and (max-width: 1051px) {\n    flex-direction: column;\n    align-items: center;\n  }\n  max-width: 1600px;\n\n  gap: 18px;\n  align-items: flex-end;\n  margin: 0 auto;\n  margin-bottom: 10px;\n"]))),M=C.ZP.div(p||(p=(0,S.Z)(["\n  @media screen and (max-width: 1440px) {\n    display: flex;\n    align-items: center;\n  }\n"]))),I=C.ZP.div(d||(d=(0,S.Z)(["\n  display: flex;\n  flex-direction: column;\n"]))),z=C.ZP.label(x||(x=(0,S.Z)(["\n  display: block;\n  margin-bottom: 8px;\n  color: #8a8a89;\n  font-family: Manrope;\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 500;\n  line-height: 1.29;\n"]))),R=C.ZP.div(f||(f=(0,S.Z)([""]))),D=C.ZP.input(h||(h=(0,S.Z)(["\n  width: 160px;\n  height: 48px;\n  padding: 14px 93px 14px 24px;\n  border-radius: 14px 0px 0px 14px;\n  border: none;\n  background: #f7f7fb;\n  color: #121417;\n  font-family: Manrope;\n  font-size: 18px;\n  font-weight: 500;\n  line-height: 1.11;\n\n  &::placeholder {\n    color: #121417;\n    font-family: Manrope;\n    font-size: 18px;\n    font-weight: 500;\n    line-height: 1.11;\n  }\n"]))),A=C.ZP.input(g||(g=(0,S.Z)(["\n  width: 160px;\n  height: 48px;\n  padding: 14px 115px 14px 24px;\n  border-radius: 0px 14px 14px 0px;\n  border: none;\n  border-left: 1px solid rgba(138, 138, 137, 0.2);\n\n  background: #f7f7fb;\n  color: #121417;\n  font-family: Manrope;\n  font-size: 18px;\n\n  font-weight: 500;\n  line-height: 1.11;\n\n  &::placeholder {\n    color: #121417;\n    font-family: Manrope;\n    font-size: 18px;\n    font-weight: 500;\n    line-height: 1.11;\n  }\n"]))),O=C.ZP.div(m||(m=(0,S.Z)(["\n  display: flex;\n  align-items: flex-end;\n  gap: 9px;\n"]))),_=C.ZP.button(b||(b=(0,S.Z)(["\n  display: flex;\n  width: 136px;\n  height: 48px;\n  padding: 14px 44px;\n  justify-content: center;\n  align-items: center;\n  border-radius: 12px;\n  background: #3470ff;\n  border: none;\n\n  color: #fff;\n  font-family: Manrope;\n  font-size: 14px;\n  font-weight: 600;\n  line-height: 1.43;\n"]))),E=t(184),H=function(n){for(var e=n.makeFilter,t=n.priceFilter,r=n.mileageFilter,a=n.setMakeFilter,l=n.setPriceFilter,c=n.setMileageFilter,u=n.handleReset,p=n.makes,d=n.onApplyFilters,x=(0,s.useState)(!1),f=(0,o.Z)(x,2),h=f[0],g=f[1],m=(0,s.useState)(!1),b=(0,o.Z)(m,2),Z=b[0],v=b[1],k={control:function(n){return(0,y.Z)((0,y.Z)({},n),{},{width:"224px",height:"48px",border:"none",padding:"0px 14px",borderRadius:"14px",background:"#F7F7FB"})},input:function(n){return(0,y.Z)((0,y.Z)({},n),{},{border:"none"})},menuList:function(n){return(0,y.Z)((0,y.Z)({},n),{},{"&::-webkit-scrollbar":{width:"8px"},"&::-webkit-scrollbar-thumb":{background:"rgba(18, 20, 23, 0.05)",borderRadius:"10px"},"&::-webkit-scrollbar-thumb:hover":{background:"#555"},"&::-webkit-scrollbar-track":{background:"#fff"}})},indicatorSeparator:function(){return null},menu:function(n){return(0,y.Z)((0,y.Z)({},n),{},{width:"200px",padding:"14px 8px 14px 18px",borderRadius:"14px",border:"1px solid rgba(18, 20, 23, 0.05)",background:"#FFF",boxShadow:"0px 4px 36px 0px rgba(0, 0, 0, 0.02)",color:"rgba(18, 20, 23, 0.20)",fontFamily:"Manrope",fontSize:"16px",fontWeight:" 500",lineHeight:"1.25"})},placeholder:function(n){return(0,y.Z)((0,y.Z)({},n),{},{color:" #121417",fontFamily:"Manrope",fontSize:"18px",fontWeight:500,lineHeight:"1.11"})},indicatorsContainer:function(n){return(0,y.Z)((0,y.Z)({},n),{},{transform:h?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s ease","& svg":{width:"20px",height:"20px",color:"rgba(18, 20, 23, 1)"}})}},w=(0,y.Z)((0,y.Z)({},k),{},{control:function(n){return(0,y.Z)((0,y.Z)({},n),{},{width:"125px",height:"48px",border:"none",padding:"0px 14px",borderRadius:"14px",background:"#F7F7FB"})},indicatorsContainer:function(n){return(0,y.Z)((0,y.Z)({},n),{},{transform:Z?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s ease","& svg":{width:"20px",height:"20px",color:"rgba(18, 20, 23, 1)"}})}}),F=[],S=30;S<=500;S+=10)F.push({label:S,value:S});var C=(0,i.Z)(p).sort().map((function(n){return{label:n,value:n}}));return(0,E.jsxs)(P,{children:[(0,E.jsxs)(M,{children:[(0,E.jsxs)(I,{children:[(0,E.jsx)(z,{htmlFor:"brand",children:"Car brand"}),(0,E.jsx)(j.ZP,{inputId:"brand",options:C,value:e?{label:e,value:e}:null,onChange:function(n){a(n?n.value:"")},styles:k,menuIsOpen:h,onMenuOpen:function(){return g(!0)},onMenuClose:function(){return g(!1)},placeholder:"Enter the text"})]}),(0,E.jsxs)(I,{children:[(0,E.jsx)(z,{htmlFor:"price",children:"Price/ 1 hour"}),(0,E.jsx)(j.ZP,{inputId:"price",options:F,value:t?{label:t,value:t}:null,onChange:function(n){l(n?n.value:"")},styles:w,menuIsOpen:Z,onMenuOpen:function(){return v(!0)},onMenuClose:function(){return v(!1)},placeholder:"To $"})]})]}),(0,E.jsxs)(I,{children:[(0,E.jsx)(z,{htmlFor:"mileage",children:"\u0421ar mileage / km"}),(0,E.jsxs)(R,{children:[(0,E.jsx)(D,{id:"mileage",type:"text",value:r.min,onChange:function(n){return c((0,y.Z)((0,y.Z)({},r),{},{min:n.target.value}))},placeholder:"From"}),(0,E.jsx)(A,{type:"text",value:r.max,onChange:function(n){return c((0,y.Z)((0,y.Z)({},r),{},{max:n.target.value}))},placeholder:"To"})]})]}),(0,E.jsxs)(O,{children:[(0,E.jsx)(_,{type:"button",onClick:function(){d()},children:"Search"}),(0,E.jsx)(_,{type:"button",onClick:u,children:"Reset"})]})]})},L=function(){var n=(0,s.useState)([]),e=(0,o.Z)(n,2),t=e[0],u=e[1],p=(0,s.useState)([]),d=(0,o.Z)(p,2),x=d[0],f=d[1],h=(0,s.useState)(1),g=(0,o.Z)(h,2),m=g[0],b=g[1],Z=(0,s.useState)(8),y=(0,o.Z)(Z,1)[0],j=(0,s.useState)(!1),S=(0,o.Z)(j,2),C=S[0],P=S[1],M=(0,s.useState)([]),I=(0,o.Z)(M,2),z=I[0],R=I[1],D=(0,s.useState)(!1),A=(0,o.Z)(D,2),O=A[0],_=A[1],L=(0,s.useState)(""),W=(0,o.Z)(L,2),B=W[0],T=W[1],U=(0,s.useState)(""),$=(0,o.Z)(U,2),q=$[0],G=$[1],J=(0,s.useState)({min:"",max:""}),K=(0,o.Z)(J,2),N=K[0],Q=K[1],V=(0,s.useState)("ascending"),X=(0,o.Z)(V,2),Y=X[0],nn=X[1];(0,s.useEffect)((function(){var n=new AbortController,e=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,P(!0),e.next=4,v(n);case 4:t=e.sent,u(t),a=(0,i.Z)(new Set(t.map((function(n){return n.make})))),f(a),R(t),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),c.Z.isCancel(e.t0)?console.log("\u0417\u0430\u043f\u0438\u0442 \u0431\u0443\u043b\u043e \u0441\u043a\u0430\u0441\u043e\u0432\u0430\u043d\u043e",e.t0.message):console.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0440\u0438 \u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043d\u0456 \u0437\u0430\u043f\u0438\u0442\u0443",e.t0);case 14:return e.prev=14,P(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,11,14,17]])})));return function(){return e.apply(this,arguments)}}();return e(),function(){n.abort()}}),[]);var en=m*y,tn=(0,s.useCallback)((function(n){if(""!==B&&n.make!==B)return!1;var e=parseInt(n.rentalPrice.replace(/\D/g,""),10);return!(""!==q&&e<parseInt(q,10))&&!(""!==N.min&&n.mileage<N.min||""!==N.max&&n.mileage>N.max)}),[B,q,N]);(0,s.useEffect)((function(){if(O){var n=t.filter(tn);R(n),_(!1)}}),[O,t,tn]);var rn=(0,i.Z)(z).sort((function(n,e){return"ascending"===Y?parseInt(n.rentalPrice.replace(/\D/g,""),10)-parseInt(e.rentalPrice.replace(/\D/g,""),10):parseInt(e.rentalPrice.replace(/\D/g,""),10)-parseInt(n.rentalPrice.replace(/\D/g,""),10)})).slice(0,en);return(0,E.jsxs)("section",{children:[C&&(0,E.jsx)(F.Z,{}),(0,E.jsxs)(w.W2,{children:[(0,E.jsx)(H,{makeFilter:B,priceFilter:q,mileageFilter:N,setMakeFilter:T,setPriceFilter:G,setMileageFilter:Q,makes:x,handleReset:function(){T(""),G(0),Q({min:"",max:""}),_(!0)},onApplyFilters:function(){_(!0)}}),(0,E.jsx)("button",{type:"button",onClick:function(){nn((function(n){return"ascending"===n?"descending":"ascending"}))},children:"ascending"===Y?"Sort Descending":"Sort Ascending"}),(0,E.jsx)(k.H,{children:rn.map((function(n){return(0,E.jsx)("li",{children:(0,E.jsx)(l.Z,{car:n})},n.id)}))}),z.length>en&&(0,E.jsx)(k.C,{type:"button",onClick:function(){return b((function(n){return n+1}))},children:"Load more"})]})]})}}}]);
//# sourceMappingURL=223.7ff69b29.chunk.js.map