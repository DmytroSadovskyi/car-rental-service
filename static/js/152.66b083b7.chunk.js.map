{"version":3,"file":"static/js/152.66b083b7.chunk.js","mappings":"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","sources":["pages/FavoritesPage/FavoritesPage.styled.jsx","pages/FavoritesPage/FavoritesPage.jsx"],"sourcesContent":["import styled from 'styled-components';\n\nexport const Text = styled.p`\n  position: absolute;\n  top: 80%;\n  left: 50%;\n  transform: translate(-50%, -80%);\n  font-family: Inter;\n  font-size: 20px;\n  min-width: 280px;\n  text-align: center;\n`;\n","import CarCard from 'components/CarCard/CarCard';\nimport { useSelector } from 'react-redux';\nimport { CarsList } from 'pages/CatalogPage/CatalogPage.styled';\nimport { Container } from 'components/SharedLayout/SharedLayout.styled';\nimport { useState, useCallback, useEffect } from 'react';\nimport Filter from 'components/Filter/Filter';\nimport { Text } from './FavoritesPage.styled';\nimport { SortButton } from 'pages/CatalogPage/CatalogPage.styled';\nimport { ReactComponent as DescendingIcon } from '../../images/icons/sort-amount-desc.svg';\nimport { ReactComponent as AscendingIcon } from '../../images/icons/sort-amount-asc.svg';\n\nconst FavoritesPage = () => {\n  const favoriteCars = useSelector(state => state.favorites);\n\n  const [makes, setMakes] = useState([]);\n\n  useEffect(() => {\n    const uniqueMakes = [...new Set(favoriteCars.map(car => car.make))];\n    setMakes(uniqueMakes);\n    setFilteredCars(favoriteCars);\n  }, [favoriteCars]);\n\n  const [filteredCars, setFilteredCars] = useState(favoriteCars);\n  const [applyFiltersFlag, setApplyFiltersFlag] = useState(false);\n\n  const [makeFilter, setMakeFilter] = useState('');\n  const [priceFilter, setPriceFilter] = useState('');\n  const [mileageFilter, setMileageFilter] = useState({\n    min: '',\n    max: '',\n  });\n\n  const [sortOrder, setSortOrder] = useState('ascending');\n\n  const filterCars = useCallback(\n    car => {\n      if (makeFilter !== '' && car.make !== makeFilter) {\n        return false;\n      }\n\n      const rentalPriceNumeric = parseInt(\n        car.rentalPrice.replace(/\\D/g, ''),\n        10\n      );\n\n      if (\n        priceFilter !== '' &&\n        rentalPriceNumeric < parseInt(priceFilter, 10)\n      ) {\n        return false;\n      }\n\n      if (\n        (mileageFilter.min !== '' && car.mileage < mileageFilter.min) ||\n        (mileageFilter.max !== '' && car.mileage > mileageFilter.max)\n      ) {\n        return false;\n      }\n\n      return true;\n    },\n    [makeFilter, priceFilter, mileageFilter]\n  );\n\n  useEffect(() => {\n    if (applyFiltersFlag) {\n      const filteredCars = favoriteCars.filter(filterCars);\n      setFilteredCars(filteredCars);\n      setApplyFiltersFlag(false);\n    }\n  }, [applyFiltersFlag, favoriteCars, filterCars]);\n\n  const sortedCars = [...filteredCars].sort((a, b) => {\n    if (sortOrder === 'ascending') {\n      return (\n        parseInt(a.rentalPrice.replace(/\\D/g, ''), 10) -\n        parseInt(b.rentalPrice.replace(/\\D/g, ''), 10)\n      );\n    } else {\n      return (\n        parseInt(b.rentalPrice.replace(/\\D/g, ''), 10) -\n        parseInt(a.rentalPrice.replace(/\\D/g, ''), 10)\n      );\n    }\n  });\n\n  const handleReset = () => {\n    setMakeFilter('');\n    setPriceFilter(0);\n    setMileageFilter({ min: '', max: '' });\n    setApplyFiltersFlag(true);\n    setFilteredCars(favoriteCars);\n  };\n\n  const toggleSortOrder = () => {\n    setSortOrder(prevSortOrder =>\n      prevSortOrder === 'ascending' ? 'descending' : 'ascending'\n    );\n  };\n\n  return (\n    <section>\n      <Container>\n        <Filter\n          makeFilter={makeFilter}\n          priceFilter={priceFilter}\n          mileageFilter={mileageFilter}\n          setMakeFilter={setMakeFilter}\n          setPriceFilter={setPriceFilter}\n          setMileageFilter={setMileageFilter}\n          makes={makes}\n          handleReset={handleReset}\n          onApplyFilters={() => {\n            setApplyFiltersFlag(true);\n          }}\n        >\n          <SortButton\n            type=\"button\"\n            aria-label=\"sorting-button\"\n            onClick={toggleSortOrder}\n          >\n            {sortOrder === 'ascending' ? <DescendingIcon /> : <AscendingIcon />}\n          </SortButton>\n        </Filter>\n\n        {sortedCars.length > 0 ? (\n          <CarsList>\n            {sortedCars.map(car => (\n              <li key={car.id}>{<CarCard car={car} />}</li>\n            ))}\n          </CarsList>\n        ) : (\n          <Text>There is no favorite cars yet</Text>\n        )}\n      </Container>\n    </section>\n  );\n};\n\nexport default FavoritesPage;\n"],"names":["Text","styled","p","_templateObject","_taggedTemplateLiteral","favoriteCars","useSelector","state","favorites","_useState","useState","_useState2","_slicedToArray","makes","setMakes","useEffect","uniqueMakes","_toConsumableArray","Set","map","car","make","setFilteredCars","_useState3","_useState4","filteredCars","_useState5","_useState6","applyFiltersFlag","setApplyFiltersFlag","_useState7","_useState8","makeFilter","setMakeFilter","_useState9","_useState10","priceFilter","setPriceFilter","_useState11","min","max","_useState12","mileageFilter","setMileageFilter","_useState13","_useState14","sortOrder","setSortOrder","filterCars","useCallback","rentalPriceNumeric","parseInt","rentalPrice","replace","mileage","filter","sortedCars","sort","a","b","_jsx","children","_jsxs","Container","Filter","handleReset","onApplyFilters","SortButton","type","onClick","prevSortOrder","DescendingIcon","AscendingIcon","length","CarsList","CarCard","id"],"sourceRoot":""}