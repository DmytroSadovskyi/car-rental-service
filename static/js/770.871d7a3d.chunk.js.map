{"version":3,"file":"static/js/770.871d7a3d.chunk.js","mappings":"0OACAA,EAAAA,EAAMC,SAASC,QAAU,8CAEzB,IAAMC,EAAS,eAAAC,GAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAC,EAAMC,GAAU,IAAAC,EAAA,OAAAJ,EAAAA,EAAAA,KAAAK,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACTd,EAAAA,EAAMe,IAAI,QAAS,CACxCC,OAAQP,EAAWO,SAClB,KAAD,EAFY,OAARN,EAAQE,EAAAK,KAAAL,EAAAM,OAAA,SAGPR,EAASS,MAAI,wBAAAP,EAAAQ,OAAA,GAAAZ,EAAA,KACrB,gBALca,GAAA,OAAAjB,EAAAkB,MAAA,KAAAC,UAAA,KAOf,I,4BCmDA,EArDoB,WAClB,IAAAC,GAAwBC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA7BI,EAAIF,EAAA,GAAEG,EAAOH,EAAA,GACpBI,GAAsCL,EAAAA,EAAAA,UAAS,GAAEM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAA1CE,EAAWD,EAAA,GAAEE,EAAcF,EAAA,GAClCG,GAAsBT,EAAAA,EAAAA,UAAS,GAAxBU,GAA0BR,EAAAA,EAAAA,GAAAO,EAAA,GAAf,GAClBE,GAAkCX,EAAAA,EAAAA,WAAS,GAAMY,GAAAV,EAAAA,EAAAA,GAAAS,EAAA,GAA1CE,EAASD,EAAA,GAAEE,EAAYF,EAAA,IAE9BG,EAAAA,EAAAA,YAAU,WACR,IAAM/B,EAAa,IAAIgC,gBACjBC,EAAU,eAAAtC,GAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAC,IAAA,IAAAmC,EAAA,OAAArC,EAAAA,EAAAA,KAAAK,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAEI,OAFJF,EAAAC,KAAA,EAEf0B,GAAa,GAAM3B,EAAAE,KAAA,EACEX,EAAUM,GAAY,KAAD,EAApCkC,EAAM/B,EAAAK,KACZY,EAAQc,GAAQ/B,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAgC,GAAAhC,EAAA,SAEZZ,EAAAA,EAAM6C,SAAQjC,EAAAgC,IAChBE,QAAQC,IAAI,iHAAwBnC,EAAAgC,GAAMI,SAE1CF,QAAQG,MAAM,4JAA8BrC,EAAAgC,IAC7C,QAEmB,OAFnBhC,EAAAC,KAAA,GAED0B,GAAa,GAAO3B,EAAAsC,OAAA,6BAAAtC,EAAAQ,OAAA,GAAAZ,EAAA,wBAEvB,kBAde,OAAAJ,EAAAkB,MAAA,KAAAC,UAAA,KAkBhB,OAFAmB,IAEO,WACLjC,EAAW0C,OACb,CACF,GAAG,IAEH,IAAMC,EAAiBpB,EAAcG,EAC/BkB,EAAczB,EAAK0B,MAAM,EAAGF,GAElC,OACEG,EAAAA,EAAAA,MAAA,WAAAC,SAAA,CACGlB,IAAamB,EAAAA,EAAAA,KAAA,KAAAD,SAAG,qBACjBD,EAAAA,EAAAA,MAACG,EAAAA,GAAS,CAAAF,SAAA,EACRC,EAAAA,EAAAA,KAACE,EAAAA,EAAQ,CAAAH,SACNH,EAAYO,KAAI,SAAAC,GAAG,OAClBJ,EAAAA,EAAAA,KAAA,MAAAD,UAAkBC,EAAAA,EAAAA,KAACK,EAAAA,EAAO,CAACD,IAAKA,KAAvBA,EAAIE,GAAgC,MAGhDnC,EAAKoC,OAASZ,IACbK,EAAAA,EAAAA,KAACQ,EAAAA,EAAW,CAACC,KAAK,SAASC,QAXZ,WAAH,OAASlC,GAAe,SAAAmC,GAAQ,OAAIA,EAAW,CAAC,GAAE,EAWXZ,SAAC,mBAO9D,C","sources":["services/carsApi.js","pages/CatalogPage/CatalogPage.jsx"],"sourcesContent":["import axios from 'axios';\naxios.defaults.baseURL = 'https://645a8c7c65bd868e931e4c89.mockapi.io';\n\nconst fetchCars = async controller => {\n  const response = await axios.get('/cars', {\n    signal: controller.signal,\n  });\n  return response.data;\n};\n\nexport default fetchCars;\n","import CarCard from 'components/CarCard/CarCard';\nimport { useEffect, useState } from 'react';\nimport axios from 'axios';\n\nimport fetchCars from 'services/carsApi';\nimport { CarsList, LoadMoreBtn } from './CatalogPage.styled';\nimport { Container } from 'components/SharedLayout/SharedLayout.styled';\n\nconst CatalogPage = () => {\n  const [cars, setCars] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [carsPerPage] = useState(8);\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    const controller = new AbortController();\n    const getAllCars = async () => {\n      try {\n        setIsLoading(true);\n        const result = await fetchCars(controller);\n        setCars(result);\n      } catch (error) {\n        if (axios.isCancel(error)) {\n          console.log('Запит було скасовано', error.message);\n        } else {\n          console.error('Помилка при виконанні запиту', error);\n        }\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    getAllCars();\n\n    return () => {\n      controller.abort();\n    };\n  }, []);\n\n  const indexOfLastCar = currentPage * carsPerPage;\n  const currentCars = cars.slice(0, indexOfLastCar);\n  const handleLoadMore = () => setCurrentPage(prevPage => prevPage + 1);\n  return (\n    <section>\n      {isLoading && <p>Loading cars...</p>}\n      <Container>\n        <CarsList>\n          {currentCars.map(car => (\n            <li key={car.id}>{<CarCard car={car} />}</li>\n          ))}\n        </CarsList>\n        {cars.length > indexOfLastCar && (\n          <LoadMoreBtn type=\"button\" onClick={handleLoadMore}>\n            Load more\n          </LoadMoreBtn>\n        )}\n      </Container>\n    </section>\n  );\n};\n\nexport default CatalogPage;\n"],"names":["axios","defaults","baseURL","fetchCars","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","controller","response","wrap","_context","prev","next","get","signal","sent","abrupt","data","stop","_x","apply","arguments","_useState","useState","_useState2","_slicedToArray","cars","setCars","_useState3","_useState4","currentPage","setCurrentPage","_useState5","carsPerPage","_useState7","_useState8","isLoading","setIsLoading","useEffect","AbortController","getAllCars","result","t0","isCancel","console","log","message","error","finish","abort","indexOfLastCar","currentCars","slice","_jsxs","children","_jsx","Container","CarsList","map","car","CarCard","id","length","LoadMoreBtn","type","onClick","prevPage"],"sourceRoot":""}